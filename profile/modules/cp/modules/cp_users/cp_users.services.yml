services:
  cp_users.change_ownership_access_check:
    class: \Drupal\cp_users\Access\ChangeOwnershipAccessCheck
    arguments: ['@vsite.context_manager']
    tags:
      - { name: access_check, applies_to: _change_ownership_access_check }
  cp_users.cp_roles_helper:
    class: \Drupal\cp_users\CpRolesHelper
  cp_users.cp_roles_operation_access_check:
    class: \Drupal\cp_users\Access\CpRolesOperationAccessCheck
    arguments: ['@cp_users.cp_roles_helper', '@vsite.context_manager']
    tags:
      - { name: access_check, applies_to: _cp_roles_operation_access_check }
  cp_users.cp_users_helper:
    class: \Drupal\cp_users\CpUsersHelper
  cp_users.custom_role_permission_calculator:
    class: \Drupal\cp_users\Access\CustomRolePermissionCalculator
    arguments: ['@vsite.context_manager']
    tags:
      - { name: group_permission_calculator, priority: -200 }
  cp_users.support_vsite_access_check:
    class: \Drupal\cp_users\Access\CpUsersSupportAccessCheck
    arguments: ['@vsite.context_manager']
    tags:
      - { name: access_check, applies_to: _support_vsite_access_check }
  cp_users.custom_compact_perm:
    class: Drupal\cp_users\Routing\CpUserRouteSubscriber
    tags:
      - { name: event_subscriber }
